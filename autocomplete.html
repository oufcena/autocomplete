<!DOCTYPE html>
<html>
<style>
body {
  margin: 0;
  padding: 0 16px;
  font-family: Verdana, sans-serif;
  font-size: 15px;
  line-height: 1.5;
}
h2 {
  font-family: "Segoe UI", Arial, sans-serif;
  font-weight: 400;
  font-size: 30px;
  margin: 10px 0;
}
</style>
<body>

<h2>Filter List & Autocomplete</h2>

<p>Search for a name in the input field:</p>

<script>
function list() {
  var arr, CSS, JS, HTML;
  
var arr = ["Afghanistan","Albania","Algeria","Andorra","Angola","Anguilla","Antigua & Barbuda","Argentina","Armenia","Aruba","Australia","Austria","Azerbaijan","Bahamas","Bahrain","Bangladesh","Barbados","Belarus","Belgium","Belize","Benin","Bermuda","Bhutan","Bolivia","Bosnia & Herzegovina","Botswana","Brazil","British Virgin Islands","Brunei","Bulgaria","Burkina Faso","Burundi","Cambodia","Cameroon","Canada","Cape Verde","Cayman Islands","Central Arfrican Republic","Chad","Chile","China","Colombia","Congo","Cook Islands","Costa Rica","Cote D Ivoire","Croatia","Cuba","Curacao","Cyprus","Czech Republic","Denmark","Djibouti","Dominica","Dominican Republic","Ecuador","Egypt","El Salvador","Equatorial Guinea","Eritrea","Estonia","Ethiopia","Falkland Islands","Faroe Islands","Fiji","Finland","France","French Polynesia","French West Indies","Gabon","Gambia","Georgia","Germany","Ghana","Gibraltar","Greece","Greenland","Grenada","Guam","Guatemala","Guernsey","Guinea","Guinea Bissau","Guyana","Haiti","Honduras","Hong Kong","Hungary","Iceland","India","Indonesia","Iran","Iraq","Ireland","Isle of Man","Israel","Italy","Jamaica","Japan","Jersey","Jordan","Kazakhstan","Kenya","Kiribati","Kosovo","Kuwait","Kyrgyzstan","Laos","Latvia","Lebanon","Lesotho","Liberia","Libya","Liechtenstein","Lithuania","Luxembourg","Macau","Macedonia","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Marshall Islands","Mauritania","Mauritius","Mexico","Micronesia","Moldova","Monaco","Mongolia","Montenegro","Montserrat","Morocco","Mozambique","Myanmar","Namibia","Nauro","Nepal","Netherlands","Netherlands Antilles","New Caledonia","New Zealand","Nicaragua","Niger","Nigeria","North Korea","Norway","Oman","Pakistan","Palau","Palestine","Panama","Papua New Guinea","Paraguay","Peru","Philippines","Poland","Portugal","Puerto Rico","Qatar","Reunion","Romania","Russia","Rwanda","Saint Pierre & Miquelon","Samoa","San Marino","Sao Tome and Principe","Saudi Arabia","Senegal","Serbia","Seychelles","Sierra Leone","Singapore","Slovakia","Slovenia","Solomon Islands","Somalia","South Africa","South Korea","South Sudan","Spain","Sri Lanka","St Kitts & Nevis","St Lucia","St Vincent","Sudan","Suriname","Swaziland","Sweden","Switzerland","Syria","Taiwan","Tajikistan","Tanzania","Thailand","Timor L'Este","Togo","Tonga","Trinidad & Tobago","Tunisia","Turkey","Turkmenistan","Turks & Caicos","Tuvalu","Uganda","Ukraine","United Arab Emirates","United Kingdom","United States of America","Uruguay","Uzbekistan","Vanuatu","Vatican City","Venezuela","Vietnam","Virgin Islands (US)","Yemen","Zambia","Zimbabwe"];
  
  CSS = [
    `border: 1px solid transparent;
    background-color: #f1f1f1;
    padding: 10px;
    box-sizing: border-box;
    font-size: 16px;
    width: 70%;`,
    `border: 1px solid transparent;
    padding: 10px;
    font-size: 16px;            
    background-color: DodgerBlue;
    color: #fff;
    cursor: pointer;
    width: 20%;`,
    `width: 70%;
    list-style: none;
    padding: 0;
    margin: 0;
    font-size: 16px;`,
    `display: none;
    padding: 8px 16px;
    border: 1px solid #ddd;
    margin-top: -1px;`
  ];
  
  JS = [
    `
    var x, input, that;
    
    x = this.parentElement.nextElementSibling.children;
    input = this.value; 
    that = this;

    [...x].forEach(v => {
      if(!input) {
        [...x].forEach(v => v.style.display = 'none');
      } 
    
      else if(v.textContent.toLowerCase()
            .includes(input.toLowerCase()) ) {
       
        v.style.display = 'block';
       
        v.innerHTML = 
        v.textContent
         .replace(eval(\`/\${input}/i\`), 
        function(found) { return \`<mark>\${found}</mark>\`; } );
       
        v.onclick = function() {
          that.value = v.textContent; 
          [...x].forEach(v => v.style.display = 'none');
        } 
      } 
    
      else {
        v.style.display = 'none';
      }
    });
    `,
    `this.style.cssText += 'background-color: #e9e9e9;'`,
    `this.style.cssText += 'background-color: #fff;'`
  ];
  
  HTML = `
  <form action="/action_page.php">
    <input placeholder="Country"   
    style="${CSS[0]}" oninput="${JS[0]}">    
    <input type="submit" value="Submit" style="${CSS[1]}">
  </form>
  `;
  
  HTML += `<ul style="${CSS[2]}">`;
  HTML += arr.map(v => 
  `<li style="${CSS[3]}" 
  onmouseover="${JS[1]}"
  onmouseout="${JS[2]}">${v}</li>`).join(' ');
  HTML += `</ul>`;
  
  vanilla(HTML);
} list();

function vanilla(HTML, CSS='', JSX=document.body) {
  JSX.innerHTML += HTML + CSS;
}
</script>
</body>
</html>
